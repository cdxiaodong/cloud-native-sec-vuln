{
	"cvss": {},
	"ghsa_id": "GHSA-mxr8-q875-rhwq",
	"summary": "GrpcRemoteDownloader sends credentials of all domains to remote assets API",
	"description": "### Impact\r\nWhen using --experimental_remote_downloader, Bazel delegates downloading exteral\r\nrepositories to a remote server implementing the remote assets API. When doing\r\nso, Bazel sends the user-provided credentials for the downloads as qualifier to\r\nthe remote service. It does send all credentials Bazel knows about, not just\r\ncredentials for the URLs it asks remote to download.\r\n\r\nSending any credentials to the remote server is already questonable and\r\ninefficient (as the qualifier is used as part of the cache key remotely), but\r\nBazel should definitely not send credentials for unrelated domains.\r\n\r\nHere's a test that demonstrates the behavior:\r\nhttps://cs.opensource.google/bazel/bazel/+/master:src/test/java/com/google/devtools/build/lib/remote/downloader/GrpcRemoteDownloaderTest.java;l=345;drc=b750f8c0242d7fcb581d368d8b75e59c51c13a61\r\n\r\n\r\n### Patches\r\n_Has the problem been patched? What versions should users upgrade to?_\r\n\r\nUpgrade your Bazel version to at least 4.2.3 for 4.x, 5.3.2 for 5.x, or any 6.x+ version.\r\n\r\n### Workarounds\r\n_Is there a way for users to fix or remediate the vulnerability without upgrading?_\r\n\r\nOnly use a trusted remote downloader server and avoid giving Bazel unrelated credentials.\r\n\r\n### References\r\n_Are there any links users can visit to find out more?_\r\n\r\n### For more information\r\nIf you have any questions or comments about this advisory:\r\n* Open an issue in [example link to repo](http://example.com)\r\n* Email us at [example email address](mailto:example@example.com)\r\n",
	"severity": "medium",
	"identifiers": [
		{
			"value": "GHSA-mxr8-q875-rhwq",
			"type": "GHSA"
		},
		{
			"value": "CVE-2022-3474",
			"type": "CVE"
		}
	],
	"published_at": "2022-10-24T12:39:37Z",
	"updated_at": "2022-11-30T12:16:29Z",
	"vulnerabilities": [
		{
			"package": {
				"ecosystem": "bazel",
				"name": "Bazel"
			},
			"vulnerable_version_range": "\u003e 3.1.0, \u003c 4.2.3, \u003c 5.3.2",
			"patched_versions": ""
		}
	],
	"cve_id": "CVE-2022-3474",
	"url": "https://api.github.com/repos/bazelbuild/bazel/security-advisories/GHSA-mxr8-q875-rhwq",
	"html_url": "https://github.com/bazelbuild/bazel/security/advisories/GHSA-mxr8-q875-rhwq",
	"publisher": {
		"login": "meteorcloudy",
		"id": 4171702,
		"node_id": "MDQ6VXNlcjQxNzE3MDI=",
		"avatar_url": "https://avatars.githubusercontent.com/u/4171702?v=4",
		"html_url": "https://github.com/meteorcloudy",
		"gravatar_id": "",
		"type": "User",
		"site_admin": false,
		"url": "https://api.github.com/users/meteorcloudy",
		"events_url": "https://api.github.com/users/meteorcloudy/events{/privacy}",
		"following_url": "https://api.github.com/users/meteorcloudy/following{/other_user}",
		"followers_url": "https://api.github.com/users/meteorcloudy/followers",
		"gists_url": "https://api.github.com/users/meteorcloudy/gists{/gist_id}",
		"organizations_url": "https://api.github.com/users/meteorcloudy/orgs",
		"received_events_url": "https://api.github.com/users/meteorcloudy/received_events",
		"repos_url": "https://api.github.com/users/meteorcloudy/repos",
		"starred_url": "https://api.github.com/users/meteorcloudy/starred{/owner}{/repo}",
		"subscriptions_url": "https://api.github.com/users/meteorcloudy/subscriptions"
	},
	"state": "published",
	"credits": [
		{
			"login": "Yannic",
			"type": "analyst"
		}
	],
	"credits_detailed": [
		{
			"user": {
				"login": "Yannic",
				"id": 7313747,
				"node_id": "MDQ6VXNlcjczMTM3NDc=",
				"avatar_url": "https://avatars.githubusercontent.com/u/7313747?v=4",
				"html_url": "https://github.com/Yannic",
				"gravatar_id": "",
				"type": "User",
				"site_admin": false,
				"url": "https://api.github.com/users/Yannic",
				"events_url": "https://api.github.com/users/Yannic/events{/privacy}",
				"following_url": "https://api.github.com/users/Yannic/following{/other_user}",
				"followers_url": "https://api.github.com/users/Yannic/followers",
				"gists_url": "https://api.github.com/users/Yannic/gists{/gist_id}",
				"organizations_url": "https://api.github.com/users/Yannic/orgs",
				"received_events_url": "https://api.github.com/users/Yannic/received_events",
				"repos_url": "https://api.github.com/users/Yannic/repos",
				"starred_url": "https://api.github.com/users/Yannic/starred{/owner}{/repo}",
				"subscriptions_url": "https://api.github.com/users/Yannic/subscriptions"
			},
			"type": "analyst",
			"state": "accepted"
		}
	]
}