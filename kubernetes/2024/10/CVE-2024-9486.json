{
	"_kubernetes_io": {
		"updated_at": "0001-01-01T00:00:00Z",
		"google_group_url": "https://groups.google.com/g/kubernetes-announce/search?q=CVE-2024-9486",
		"issue_number": 128006
	},
	"content_text": "CVSS Rating: [CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)\r\n\r\nA security issue was discovered in the Kubernetes Image Builder where default credentials are enabled during the image build process. Additionally, virtual machine images built using the Proxmox provider do not disable these default credentials, and nodes using the resulting images may be accessible via these default credentials. The credentials can be used to gain root access. Kubernetes clusters are only affected if their nodes use VM images created via the Image Builder project with its Proxmox provider. \r\n\r\n### Am I vulnerable?\r\n\r\nClusters using virtual machine images built with Kubernetes Image Builder (https://github.com/kubernetes-sigs/image-builder) version v0.1.37 or earlier are affected if built with the Proxmox provider.\r\n\r\nVMs using images built with all other providers are not affected by this issue.  See #128007 for a related issue which affects some other providers.\r\n\r\nTo determine the version of Image Builder you are using, use one of the following methods:\r\n- For git clones of the image builder repository:\r\n```\r\n    cd \u003clocal path to image builder repo\u003e\r\n    make version\r\n```\r\n- For installations using a tarball download:\r\n```\r\n    cd \u003clocal path to install location\u003e\r\n    grep -o v0\\\\.[0-9.]* RELEASE.md | head -1\r\n```\r\n- For a container image release:\r\n    `docker run --rm \u003cimage pull spec\u003e version`\r\n  or\r\n    `podman run --rm \u003cimage pull spec\u003e version`\r\n  or look at the image tag specified, in the case of an official image such as `registry.k8s.io/scl-image-builder/cluster-node-image-builder-amd64:v0.1.37`\r\n\r\n\r\n#### Affected Versions\r\n\r\n- Kubernetes Image Builder versions \u003c= v0.1.37\r\n\r\n### How do I mitigate this vulnerability?\r\n\r\nRebuild any affected images using a fixed version of Image Builder. Re-deploy the fixed images to any affected VMs.\r\n\r\nPrior to upgrading, this vulnerability can be mitigated by disabling the builder account on affected VMs:\r\nusermod -L builder\r\n\r\n#### Fixed Versions\r\n\r\n- Kubernetes Image Builder master - fixed by https://github.com/kubernetes-sigs/image-builder/pull/1595\r\n- Fixed in Kubernetes Image Builder release v0.1.38\r\n\r\n### Detection\r\n\r\nThe linux command `last builder` can be used to view logins to the affected `builder` account.\r\n\r\nIf you find evidence that this vulnerability has been exploited, please contact security@kubernetes.io\r\n\r\n## Additional Details\r\n\r\nThe fixed version makes two changes to remedy this bug:\r\n- It sets a randomly-generated password for the duration of the image build\r\n- It disables the builder account at the conclusion of the image build\r\n\r\n#### Acknowledgements\r\n\r\nThis vulnerability was reported by Nicolai Rybnikar @rybnico from Rybnikar Enterprises GmbH.\r\n\r\nThe issue was fixed and coordinated by Marcus Noble of the Image Builder project.\r\n\r\n/area security\r\n/kind bug\r\n/committee security-response\r\n/label official-cve-feed\r\n/sig cluster-lifecycle\r\n",
	"date_published": "2024-10-11T18:04:31Z",
	"external_url": "https://www.cve.org/cverecord?id=CVE-2024-9486",
	"id": "CVE-2024-9486",
	"status": "fixed",
	"summary": "VM images built with Image Builder and Proxmox provider use default credentials",
	"url": "https://github.com/kubernetes/kubernetes/issues/128006"
}